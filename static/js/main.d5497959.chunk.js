(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{138:function(e,t,a){e.exports=a(314)},143:function(e,t,a){},224:function(e,t,a){},243:function(e,t,a){},245:function(e,t,a){},249:function(e,t,a){},251:function(e,t,a){},261:function(e,t,a){},314:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(51),l=a.n(r),i=(a(143),a(13)),s=a(14),o=a(17),u=a(15),p=a(16),m=a(37),d=a(52),h=a.n(d),b={apiKey:"AIzaSyDwHShIP5qcU9DEulwGtJec3IXoNFkHPOo",clientId:"632597021517-a32grqvo5g74jkdbtl4hqmerjm4ej6rr.apps.googleusercontent.com",authDomain:"oauthmealplanner.firebaseapp.com",databaseURL:"https://oauthmealplanner.firebaseio.com",projectId:"oauthmealplanner",storageBucket:"oauthmealplanner.appspot.com",messagingSenderId:"632597021517",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"]};h.a.initializeApp(b);var g=new h.a.auth.GoogleAuthProvider,f=(g.addScope("https://www.googleapis.com/auth/calendar"),h.a.auth()),E=(h.a,a(41)),v=a.n(E),y=a(130),k=function(){return c.a.createElement(y.Carousel,{autoPlay:!0},c.a.createElement("div",null,c.a.createElement("img",{src:"https://assets.bonappetit.com/photos/5c2e5aa8441ed72d95964cf7/16:9/w_2056,c_limit/Roasted-Winter-Squash-with-Kale-Pipian.png",alt:"description of Roasted-Winter-Squash-with-Kale"})),c.a.createElement("div",null,c.a.createElement("img",{src:"https://assets.bonappetit.com/photos/5bdce3f58e27024588567dee/16:9/w_2056,c_limit/30102018-Healthyish-CK-10598-16x9.jpg",alt:"description of healthy pasta"})),c.a.createElement("div",null,c.a.createElement("img",{src:"https://assets.bonappetit.com/photos/5c2fb0db940b6a2d1931ce6a/16:9/w_2056,c_limit/parsnip-skordalia.jpg",alt:"description of parsnip-skordalia"})),c.a.createElement("div",null,c.a.createElement("img",{src:"https://assets.bonappetit.com/photos/5c36451c0952c62cd717a604/16:9/w_2048,c_limit/Basically-Mac-n-Cheese-01-.jpg",alt:"description of Basically-Mac-n-Cheese"})),c.a.createElement("div",null,c.a.createElement("img",{src:"https://assets.bonappetit.com/photos/5c2e671a0d41cf2cf47b8962/16:9/w_2056,c_limit/Winter-Squash-Frittata.png",alt:"Winter-Squash-Frittata"})))},w=(a(224),a(317)),C=a(318),j=a(319),O=a(320),R=a(131),S=a.n(R),N=a(321),D=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={date:new Date,calendarvisible:!1},a.onChange=function(e){var t=new Date(e),n=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate();a.setState({date:n,calendarvisible:!1}),a.props.addRecipeActionCallback(n)},a.toggleCalendar=function(){a.setState({calendarvisible:!a.state.calendarvisible})},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"renderAddButton",value:function(){return this.props.user?c.a.createElement("div",null,c.a.createElement("button",{className:"btn btn-primary detailbutton",onClick:this.toggleCalendar},"Add"),this.state.calendarvisible&&c.a.createElement(S.a,{onChange:this.onChange,value:this.state.date})):null}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"col-12 col-sm-6 col-md-4 single-recipe"},c.a.createElement(w.a,{className:"Card-Card"},c.a.createElement(C.a,{top:!0,width:"100%",src:this.props.image,alt:"Card image cap"}),c.a.createElement(j.a,null,c.a.createElement(O.a,null,this.props.label),c.a.createElement("div",{className:"recipe-add-detailbutton"},this.renderAddButton(),c.a.createElement("button",{className:"btn btn-primary detailbutton",onClick:function(){return e.props.recipeDetailCallback()}},c.a.createElement(N.a,{to:"/details/"},"Recipe Details"))))))}}]),t}(n.Component),A=(a(243),function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.recipeList.map(function(t,a){var n=(e.props.searchbool,t.recipe);return c.a.createElement(D,Object.assign({key:a,useruid:e.props.useruid,recipeDetailCallback:function(){return e.props.recipeDetailCallback(n)}},n,{user:e.props.user,addRecipeActionCallback:function(t){return e.props.addRecipeActionCallback(t,n)}}))});return c.a.createElement("div",{className:"row recipe-container"},t)}}]),t}(n.Component)),q=(a(245),a(247),a(1)),_=a.n(q),I=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"col-12 col-md-6 col-lg-4 single-recipe"},c.a.createElement(w.a,null,c.a.createElement(C.a,{top:!0,width:"100%",src:this.props.image,alt:"Card image cap"}),c.a.createElement(j.a,null,c.a.createElement(O.a,null,this.props.label),c.a.createElement("button",{onClick:function(){return e.props.recipeDetailCallback()},className:"btn btn-primary detailbutton"},c.a.createElement(N.a,{to:"/details/"},"Recipe Details")),c.a.createElement("button",{onClick:function(){return e.props.deleteRecipeCallback()},className:"btn btn-primary detailbutton"},c.a.createElement(N.a,{to:"/myaccount/"},"Delete Recipe")))))}}]),t}(n.Component);w.a.propTypes={tag:_.a.oneOfType([_.a.func,_.a.string]),inverse:_.a.bool,color:_.a.string,body:_.a.bool,className:_.a.string};var B=I,x=(a(249),function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.myrecipes.map(function(t,a){return c.a.createElement(B,Object.assign({key:a},t,{deleteRecipeCallback:function(){return e.props.deleteRecipeCallback(t)},recipeDetailCallback:function(){return e.props.recipeDetailCallback(t)}}))});return c.a.createElement("div",{className:"row recipe-container"},t)}}]),t}(n.Component)),L=a(322),T=a(323),z=(a(251),a(253),function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){if(console.log(this.props.detailRecipe),this.props.detailRecipe){var e=this.props.detailRecipe.ingredients.map(function(e,t){return"".concat(e.text,",")}),t=this.props.detailRecipe.healthLabels.map(function(e,t){return"".concat(e,",")});return c.a.createElement("div",{className:"col-12 detail-recipe"},c.a.createElement(w.a,null,c.a.createElement(C.a,{top:!0,width:"100%",src:this.props.detailRecipe.image})),c.a.createElement(w.a,null,c.a.createElement(j.a,null,c.a.createElement(O.a,{className:"cardTitle"},this.props.detailRecipe.label),c.a.createElement(L.a,{className:"cardIngredients"},"Ingredients:"),c.a.createElement(T.a,{className:"ingredientsText"},e||"None"),c.a.createElement(L.a,{className:"healthlabel"},"HealthLabel:"),c.a.createElement(T.a,{className:"healthlabelText"},t),c.a.createElement(L.a,{className:"recipeUrl"},"URL: ",c.a.createElement("a",{href:this.props.detailRecipe.url,target:"_blank"},this.props.detailRecipe.label)))))}return c.a.createElement("div",null)}}]),t}(n.Component)),W=(a(261),a(263),a(324)),F=a(329),H=a(325),M=a(328),P=a(330),U=a(326),K=a(327),J=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).onFormSubmit=function(t){t.preventDefault(),e.setState({query:"",result:[],searchrecipe:!0,myaccountrecipedetail:!1}),e.searchRecipes()},e.handleChange=function(t){e.setState({query:t.target.value})},e.searchRecipes=function(){var t=e.state.query,a="https://meal-tracker.us-west-2.elasticbeanstalk.com/search?ingredients=".concat(e.state.query);e.setState({result:[],showhome:!1,query:"",detailRecipe:"",seedetail:!1,myrecipe:!1}),v.a.get(a).then(function(a){e.setState({result:a.data.hits,message:'Recipes for "'.concat(t,'"'),searchrecipe:!0})}).catch(function(t){e.setState({error:t})}),e.setState({message:""})},e.addRecipe=function(t,a){console.log(a);var n=a.uri;n=encodeURIComponent(n);var c="https://meal-tracker.us-west-2.elasticbeanstalk.com/addrecipe?id=".concat(n,"&useruid=").concat(e.state.user.uid);v.a.post(c).then(function(t){e.setState({message:"Successfully added ".concat(a.label),showhome:!1,indatabase:!0})}).catch(function(t){e.setState({error:t})}),console.log(a.shareAs),v.a.request({url:"https://www.googleapis.com/calendar/v3/calendars/".concat(e.state.user.email,"/events"),method:"post",data:{summary:"Recipe: ".concat(a.label,": ").concat(a.shareAs),end:{date:"".concat(t)},start:{date:"".concat(t)}},headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e.state.accesstoken)}}).then(function(e){console.log(e)}).catch(function(e){console.log("in error function of post request"),console.log(e)})},e.deleteRecipe=function(t){var a="https://meal-tracker.us-west-2.elasticbeanstalk.com/recipe?documentid=".concat(t.documentid);v.a.delete(a).then(function(a){e.setState({message:"Successfully delted ".concat(t.label)})}).catch(function(t){e.setState({error:t})}),e.myrecipes()},e.myrecipes=function(){console.log("in my recipes");var t="https://meal-tracker.us-west-2.elasticbeanstalk.com/myrecipes?useruid=".concat(e.state.user.uid);v.a.get(t).then(function(t){e.setState({result:t.data,myrecipe:!0,seedetail:!1,searchrecipe:!1,showhome:!1,myaccountrecipedetail:!0})}).catch(function(t){e.setState({error:t})})},e.recipeDetail=function(t){e.setState({detailRecipe:t,seedetail:!0,result:[],showhome:!1,myrecipe:!1})},e.showhome=function(){e.setState({showhome:!0,message:"",result:[],query:"",detailRecipe:"",seedetail:!1,searchrecipe:!1,myrecipe:!1})},e.login=e.login.bind(Object(m.a)(Object(m.a)(e))),e.logout=e.logout.bind(Object(m.a)(Object(m.a)(e))),e.state={message:"",result:[],query:"",user:null,detailRecipe:"",seedetail:!1,searchrecipe:!1,myrecipe:!1,showhome:!1,indatabase:!1,myaccountrecipedetail:!1,accesstoken:""},e}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.onAuthStateChanged(function(t){t&&(e.setState({user:t}),e.setState({message:"Welcome Back ".concat(e.state.user.displayName)}))})}},{key:"login",value:function(){var e=this;f.signInWithPopup(g).then(function(t){var a=t.user;console.log("result",t),console.log("user",a),e.setState({user:a,result:[],query:"",detailRecipe:"",seedetail:!1,searchrecipe:!1,myrecipe:!1,showhome:!0,indatabase:!1,myaccountrecipedetail:!1,accesstoken:t.credential.accessToken})})}},{key:"logout",value:function(){var e=this;f.signOut().then(function(){e.setState({user:null,myaccountrecipedetail:!1,message:"",result:[],query:"",detailRecipe:"",seedetail:!1,searchrecipe:!1,myrecipe:!1,showhome:!0,indatabase:!1})})}},{key:"render",value:function(){var e=this;return c.a.createElement(U.a,null,c.a.createElement("div",null,c.a.createElement("div",{className:"div-outer-nav"},c.a.createElement(W.a,{className:"navbar-navbar"},c.a.createElement(W.a.Collapse,null,c.a.createElement("div",{className:"navbarheader-outsideofnavbarheader"},c.a.createElement(W.a.Header,{className:"header"},c.a.createElement(W.a.Brand,null,c.a.createElement(N.a,{to:"/"},"Meal Tracker")),c.a.createElement(W.a.Toggle,null)),c.a.createElement(W.a.Form,{pullLeft:!0},c.a.createElement(F.a,null,c.a.createElement(H.a,{type:"text",value:this.state.query,onChange:this.handleChange,placeholder:"Recipe Search"}))," ",c.a.createElement(M.a,{bsSize:"large",onClick:this.onFormSubmit,type:"submit"},c.a.createElement(N.a,{to:"/search/"},"Submit"))),c.a.createElement("div",{className:"home-login-account-button"},c.a.createElement("div",{className:"login-logout-button"},this.state.user?c.a.createElement(M.a,{bsSize:"large",onClick:this.logout},c.a.createElement(N.a,{to:"/"},"Log Out")):c.a.createElement(M.a,{bsSize:"large",onClick:this.login},c.a.createElement(N.a,{to:"/"},"Log In"))),c.a.createElement("div",{className:"myaccount-button"},this.state.user?c.a.createElement(M.a,{bsSize:"large",onClick:this.myrecipes},c.a.createElement(N.a,{to:"/myaccount/",className:"dashboard-link"},"My Account")):null),c.a.createElement("div",{className:"home-button"},c.a.createElement(M.a,{bsSize:"large",onClick:this.showhome},c.a.createElement(N.a,{to:"/"},"Home"))))))),c.a.createElement(P.a,{bsStyle:"success"},c.a.createElement("p",{className:"status-bar__text"},this.state.message)),c.a.createElement("div",null,c.a.createElement(K.a,{path:"/",exact:!0,component:k}),c.a.createElement(K.a,{path:"/myaccount/",render:function(){return c.a.createElement(x,{myrecipes:e.state.result,deleteRecipeCallback:function(t){return e.deleteRecipe(t)},recipeDetailCallback:function(t){return e.recipeDetail(t)}})}}),c.a.createElement(K.a,{path:"/search/",render:function(){return c.a.createElement(A,{recipeList:e.state.result,useruid:e.state.user?e.state.user.uid:null,recipeDetailCallback:function(t){return e.recipeDetail(t)},user:e.state.user,addRecipeActionCallback:function(t,a){return e.addRecipe(t,a)}})}})),c.a.createElement(K.a,{exact:!0,path:"/details/",render:function(){return c.a.createElement(z,{detailRecipe:e.state.detailRecipe,user:e.state.user,myrecipe:e.state.myrecipe,indatabase:e.state.indatabase,myaccountrecipedetail:e.state.myaccountrecipedetail,addRecipeActionCallback:function(t){return e.addRecipe(t)}})}}))))}}]),t}(n.Component),G=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"App"},c.a.createElement("header",{className:"App-header"}),c.a.createElement("main",null,c.a.createElement(J,{className:"Dashboard"})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[138,2,1]]]);
//# sourceMappingURL=main.d5497959.chunk.js.map