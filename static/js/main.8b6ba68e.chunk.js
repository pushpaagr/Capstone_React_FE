(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{138:function(e,t,a){e.exports=a(302)},143:function(e,t,a){},224:function(e,t,a){},243:function(e,t,a){},245:function(e,t,a){},247:function(e,t,a){},249:function(e,t,a){},302:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(51),i=a.n(r),s=(a(143),a(13)),l=a(14),o=a(19),u=a(15),p=a(18),m=a(37),d=a(52),h=a.n(d),b={apiKey:"AIzaSyDwHShIP5qcU9DEulwGtJec3IXoNFkHPOo",clientId:"632597021517-a32grqvo5g74jkdbtl4hqmerjm4ej6rr.apps.googleusercontent.com",authDomain:"oauthmealplanner.firebaseapp.com",databaseURL:"https://oauthmealplanner.firebaseio.com",projectId:"oauthmealplanner",storageBucket:"oauthmealplanner.appspot.com",messagingSenderId:"632597021517",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"]};h.a.initializeApp(b);var f=new h.a.auth.GoogleAuthProvider,E=(f.addScope("https://www.googleapis.com/auth/calendar"),h.a.auth()),g=(h.a,a(41)),v=a.n(g),y=a(130),C=function(){return c.a.createElement(y.Carousel,{autoPlay:!0},c.a.createElement("div",null,c.a.createElement("img",{src:"https://assets.bonappetit.com/photos/5c2e5aa8441ed72d95964cf7/16:9/w_2056,c_limit/Roasted-Winter-Squash-with-Kale-Pipian.png",alt:"description of Roasted-Winter-Squash-with-Kale"})),c.a.createElement("div",null,c.a.createElement("img",{src:"https://assets.bonappetit.com/photos/5bdce3f58e27024588567dee/16:9/w_2056,c_limit/30102018-Healthyish-CK-10598-16x9.jpg",alt:"description of healthy pasta"})),c.a.createElement("div",null,c.a.createElement("img",{src:"https://assets.bonappetit.com/photos/5c2fb0db940b6a2d1931ce6a/16:9/w_2056,c_limit/parsnip-skordalia.jpg",alt:"description of parsnip-skordalia"})),c.a.createElement("div",null,c.a.createElement("img",{src:"https://assets.bonappetit.com/photos/5c36451c0952c62cd717a604/16:9/w_2048,c_limit/Basically-Mac-n-Cheese-01-.jpg",alt:"description of Basically-Mac-n-Cheese"})),c.a.createElement("div",null,c.a.createElement("img",{src:"https://assets.bonappetit.com/photos/5c2e671a0d41cf2cf47b8962/16:9/w_2056,c_limit/Winter-Squash-Frittata.png",alt:"Winter-Squash-Frittata"})))},k=(a(224),a(316)),R=a(305),w=a(306),j=a(307),O=a(308),_=a(131),S=a.n(_),N=a(309),D=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={date:new Date,calendarvisible:!1},a.onChange=function(e){var t=new Date(e),n=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate();a.setState({date:n,calendarvisible:!1}),a.props.addRecipeActionCallback(n)},a.toggleCalendar=function(){a.setState({calendarvisible:!a.state.calendarvisible})},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"renderAddButton",value:function(){return this.props.user?c.a.createElement("div",null,c.a.createElement(k.a,{onClick:this.toggleCalendar,className:"item__button"},"Add"),this.state.calendarvisible&&c.a.createElement(S.a,{onChange:this.onChange,value:this.state.date})):null}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"single-recipe"},c.a.createElement(R.a,{className:"Card-Card"},c.a.createElement(w.a,{top:!0,width:"100%",src:this.props.image,alt:"Card image cap"}),c.a.createElement(j.a,null,c.a.createElement(O.a,null,this.props.label),this.renderAddButton(),c.a.createElement(k.a,{onClick:function(){return e.props.recipeDetailCallback()},className:"item__button"},c.a.createElement(N.a,{to:"/Capstone_React_FE/details/"},"Recipe Details")))))}}]),t}(n.Component),A=(a(243),function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.recipeList.map(function(t,a){var n=(e.props.searchbool,t.recipe);return c.a.createElement(D,Object.assign({key:a,useruid:e.props.useruid,recipeDetailCallback:function(){return e.props.recipeDetailCallback(n)}},n,{user:e.props.user,addRecipeActionCallback:function(t){return e.props.addRecipeActionCallback(t,n)}}))});return c.a.createElement("div",{className:"recipe-container"},t)}}]),t}(n.Component)),q=(a(245),a(1)),F=a.n(q),I=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"single-recipe"},c.a.createElement(R.a,{className:"Card-Card"},c.a.createElement(w.a,{top:!0,width:"100%",src:this.props.image,alt:"Card image cap"}),c.a.createElement(j.a,null,c.a.createElement(O.a,null,this.props.label),c.a.createElement(k.a,{onClick:function(){return e.props.recipeDetailCallback()},className:"item__button"},c.a.createElement(N.a,{to:"/Capstone_React_FE/details/"},"Recipe Details")),c.a.createElement(k.a,{onClick:function(){return e.props.deleteRecipeCallback()},className:"item__button"},c.a.createElement(N.a,{to:"/Capstone_React_FE/myaccount/"},"Delete Recipe")))))}}]),t}(n.Component);R.a.propTypes={tag:F.a.oneOfType([F.a.func,F.a.string]),inverse:F.a.bool,color:F.a.string,body:F.a.bool,className:F.a.string};var B=I,L=(a(247),function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.myrecipes.map(function(t,a){return c.a.createElement(B,Object.assign({key:a},t,{deleteRecipeCallback:function(){return e.props.deleteRecipeCallback(t)},recipeDetailCallback:function(){return e.props.recipeDetailCallback(t)}}))});return c.a.createElement("div",{className:"recipe-container"},t)}}]),t}(n.Component)),W=a(310),x=a(311),H=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;if(console.log(this.props.detailRecipe),this.props.detailRecipe){var t=this.props.detailRecipe.ingredients.map(function(e,t){return e.text}),a=this.props.detailRecipe.healthLabels.map(function(e,t){return e});return c.a.createElement("div",null,c.a.createElement(R.a,null,c.a.createElement(w.a,{top:!0,width:"50%",src:this.props.detailRecipe.image}),c.a.createElement(j.a,null,c.a.createElement(O.a,null,this.props.detailRecipe.label),c.a.createElement(W.a,null,"Ingredients:"),c.a.createElement(x.a,null,t||"None"),c.a.createElement(W.a,null,"HealthLabel:"),c.a.createElement(x.a,null,a),this.props.user&&this.props.myaccountrecipedetail||!this.props.user?null:c.a.createElement(k.a,{onClick:function(){return e.props.addRecipeActionCallback(e.props.detailRecipe)},className:"item__button"},"Add Recipe"),c.a.createElement(W.a,null,"URL:",this.props.detailRecipe.url))))}return c.a.createElement("div",null)}}]),t}(n.Component),M=(a(249),a(251),a(312)),P=a(318),T=a(313),K=a(317),U=a(319),z=a(314),J=a(315),G=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).onFormSubmit=function(t){t.preventDefault(),e.setState({query:"",result:[],searchrecipe:!0,myaccountrecipedetail:!1}),e.searchRecipes()},e.handleChange=function(t){e.setState({query:t.target.value})},e.searchRecipes=function(){var t=e.state.query,a="http://meal-tracker.us-west-2.elasticbeanstalk.com/search?ingredients=".concat(e.state.query);e.setState({result:[],showhome:!1,query:"",detailRecipe:"",seedetail:!1,myrecipe:!1}),v.a.get(a).then(function(a){e.setState({result:a.data.hits,message:'Recipes for "'.concat(t,'"'),searchrecipe:!0})}).catch(function(t){e.setState({error:t})}),e.setState({message:""})},e.addRecipe=function(t,a){console.log(a);var n=a.uri;n=encodeURIComponent(n);var c="http://meal-tracker.us-west-2.elasticbeanstalk.com/addrecipe?id=".concat(n,"&useruid=").concat(e.state.user.uid);v.a.post(c).then(function(t){e.setState({message:"Successfully added ".concat(a.label),showhome:!1,indatabase:!0})}).catch(function(t){e.setState({error:t})}),v.a.request({url:"https://www.googleapis.com/calendar/v3/calendars/".concat(e.state.user.email,"/events"),method:"post",data:{summary:"Recipe: ".concat(a.label," ").concat(a.uri),end:{date:"".concat(t)},start:{date:"".concat(t)}},headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e.state.accesstoken)}}).then(function(e){console.log(e)}).catch(function(e){console.log("in error function of post request"),console.log(e)})},e.deleteRecipe=function(t){var a="http://meal-tracker.us-west-2.elasticbeanstalk.com/recipe?documentid=".concat(t.documentid);v.a.delete(a).then(function(a){e.setState({message:"Successfully delted ".concat(t.label),result:[]})}).catch(function(t){e.setState({error:t})})},e.myrecipes=function(){var t="http://meal-tracker.us-west-2.elasticbeanstalk.com/myrecipes?useruid=".concat(e.state.user.uid);v.a.get(t).then(function(t){e.setState({result:t.data,myrecipe:!0,seedetail:!1,searchrecipe:!1,showhome:!1,myaccountrecipedetail:!0})}).catch(function(t){e.setState({error:t})})},e.recipeDetail=function(t){e.setState({detailRecipe:t,seedetail:!0,result:[],showhome:!1,myrecipe:!1})},e.showhome=function(){e.setState({showhome:!0,message:"",result:[],query:"",detailRecipe:"",seedetail:!1,searchrecipe:!1,myrecipe:!1})},e.login=e.login.bind(Object(m.a)(Object(m.a)(e))),e.logout=e.logout.bind(Object(m.a)(Object(m.a)(e))),e.state={message:"",result:[],query:"",user:null,detailRecipe:"",seedetail:!1,searchrecipe:!1,myrecipe:!1,showhome:!1,indatabase:!1,myaccountrecipedetail:!1,accesstoken:""},e}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;E.onAuthStateChanged(function(t){t&&(e.setState({user:t}),e.setState({message:"Welcome Back ".concat(e.state.user.displayName)}))})}},{key:"login",value:function(){var e=this;E.signInWithPopup(f).then(function(t){var a=t.user;console.log("result",t),console.log("user",a),e.setState({user:a,result:[],query:"",detailRecipe:"",seedetail:!1,searchrecipe:!1,myrecipe:!1,showhome:!0,indatabase:!1,myaccountrecipedetail:!1,accesstoken:t.credential.accessToken})})}},{key:"logout",value:function(){var e=this;E.signOut().then(function(){e.setState({user:null,myaccountrecipedetail:!1,message:"",result:[],query:"",detailRecipe:"",seedetail:!1,searchrecipe:!1,myrecipe:!1,showhome:!0,indatabase:!1})})}},{key:"render",value:function(){var e=this;return c.a.createElement(z.a,null,c.a.createElement("div",null,c.a.createElement("div",{className:"div-outer-nav"},c.a.createElement(M.a,{className:"navbar-navbar"},c.a.createElement(M.a.Collapse,null,c.a.createElement("div",{className:"navbarheader-outsideofnavbarheader"},c.a.createElement(M.a.Header,{className:"header"},c.a.createElement(M.a.Brand,null,c.a.createElement(N.a,{to:"/Capstone_React_FE/"},"Meal Tracker")),c.a.createElement(M.a.Toggle,null)),c.a.createElement(M.a.Form,{pullLeft:!0},c.a.createElement(P.a,null,c.a.createElement(T.a,{type:"text",value:this.state.query,onChange:this.handleChange,placeholder:"Recipe Search"}))," ",c.a.createElement(K.a,{onClick:this.onFormSubmit,type:"submit"},c.a.createElement(N.a,{to:"/Capstone_React_FE/search/"},"Submit"))),c.a.createElement("div",{className:"home-login-account-button"},c.a.createElement("div",{className:"login-logout-button"},this.state.user?c.a.createElement(K.a,{onClick:this.logout},c.a.createElement(N.a,{to:"/Capstone_React_FE/"},"Log Out")):c.a.createElement(K.a,{onClick:this.login},c.a.createElement(N.a,{to:"/Capstone_React_FE/"},"Log In"))),c.a.createElement("div",{className:"myaccount-button"},this.state.user?c.a.createElement(K.a,{onClick:this.myrecipes},c.a.createElement(N.a,{to:"/Capstone_React_FE/myaccount/",className:"dashboard-link"},"My Account")):null),c.a.createElement("div",{className:"home-button"},c.a.createElement(K.a,{onClick:this.showhome},c.a.createElement(N.a,{to:"/Capstone_React_FE/"},"Home"))))))),c.a.createElement(U.a,{bsStyle:"success"},c.a.createElement("p",{className:"status-bar__text"},this.state.message)),c.a.createElement("div",null,c.a.createElement(J.a,{path:"/",exact:!0,component:C}),c.a.createElement(J.a,{path:"/myaccount/",render:function(){return c.a.createElement(L,{myrecipes:e.state.result,deleteRecipeCallback:function(t){return e.deleteRecipe(t)},recipeDetailCallback:function(t){return e.recipeDetail(t)}})}}),c.a.createElement(J.a,{path:"/search/",render:function(){return c.a.createElement(A,{recipeList:e.state.result,useruid:e.state.user?e.state.user.uid:null,recipeDetailCallback:function(t){return e.recipeDetail(t)},user:e.state.user,addRecipeActionCallback:function(t,a){return e.addRecipe(t,a)}})}})),c.a.createElement(J.a,{exact:!0,path:"/details/",render:function(){return c.a.createElement(H,{detailRecipe:e.state.detailRecipe,user:e.state.user,myrecipe:e.state.myrecipe,indatabase:e.state.indatabase,myaccountrecipedetail:e.state.myaccountrecipedetail,addRecipeActionCallback:function(t){return e.addRecipe(t)}})}}))))}}]),t}(n.Component),X=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"App"},c.a.createElement("header",{className:"App-header"}),c.a.createElement("main",null,c.a.createElement(G,{className:"Dashboard"})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(X,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[138,2,1]]]);
//# sourceMappingURL=main.8b6ba68e.chunk.js.map