(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{113:function(e,t,a){e.exports=a(250)},118:function(e,t,a){},193:function(e,t,a){},195:function(e,t,a){},197:function(e,t,a){},250:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(75),r=a.n(i),l=(a(118),a(11)),s=a(12),o=a(14),u=a(13),p=a(15),m=a(32),h=a(46),d=a.n(h);d.a.initializeApp({apiKey:"AIzaSyDwHShIP5qcU9DEulwGtJec3IXoNFkHPOo",authDomain:"oauthmealplanner.firebaseapp.com",databaseURL:"https://oauthmealplanner.firebaseio.com",projectId:"oauthmealplanner",storageBucket:"oauthmealplanner.appspot.com",messagingSenderId:"632597021517"});var b=new d.a.auth.GoogleAuthProvider,f=d.a.auth(),E=(d.a,a(31)),y=a.n(E),v=(a(193),function(){return c.a.createElement("div",{className:"Home"})}),g=(a(195),function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"item-list_container"},c.a.createElement("ul",{className:"recipe-items"},c.a.createElement("li",null,this.props.label),c.a.createElement("li",null,c.a.createElement("img",{src:this.props.image,alt:""})),c.a.createElement("li",null,this.props.user?c.a.createElement("button",{onClick:function(){return e.props.addRecipeActionCallback()},className:"item__button"},"Add to Calendar"):c.a.createElement("p",null)),c.a.createElement("li",null,c.a.createElement("button",{onClick:function(){return e.props.recipeDetailCallback()}},"Recipe Details "))))}}]),t}(n.Component)),k=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.recipeList.map(function(t,a){var n=(e.props.searchbool,t.recipe);return c.a.createElement(g,Object.assign({key:a,useruid:e.props.useruid,recipeDetailCallback:function(){return e.props.recipeDetailCallback(n)}},n,{user:e.props.user,addRecipeActionCallback:function(){return e.props.addRecipeActionCallback(n)}}))});return c.a.createElement("div",null,c.a.createElement("div",{className:"recipe-container"},t))}}]),t}(n.Component),O=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"recipe-container"},c.a.createElement("div",{className:"item-list_container"},c.a.createElement("h4",null,this.props.label),c.a.createElement("img",{src:this.props.image,alt:""}),c.a.createElement("button",{onClick:function(){return e.props.recipeDetailCallback()}},"Recipe Details "),c.a.createElement("button",{onClick:function(){return e.props.deleteRecipeCallback()}},"Delete Recipe")))}}]),t}(n.Component),j=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.myrecipes.map(function(t,a){return c.a.createElement(O,Object.assign({key:a},t,{deleteRecipeCallback:function(){return e.props.deleteRecipeCallback(t)},recipeDetailCallback:function(){return e.props.recipeDetailCallback(t)}}))});return c.a.createElement("div",null,c.a.createElement("div",null,t))}}]),t}(n.Component),C=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;if(console.log(this.props.user),console.log(this.props.myaccountrecipedetail),this.props.detailRecipe){var t=this.props.detailRecipe.ingredients.map(function(e,t){return e.text}),a=this.props.detailRecipe.healthLabels.map(function(e,t){return e});return c.a.createElement("div",null,c.a.createElement("ul",null,c.a.createElement("li",null,this.props.detailRecipe.label),c.a.createElement("li",null,c.a.createElement("img",{src:this.props.detailRecipe.image,alt:""})),c.a.createElement("li",null,"UrL: ",this.props.detailRecipe.url),c.a.createElement("li",null,"Ingredients: ",t||"None"),c.a.createElement("li",null,"healthLabels: ",a),c.a.createElement("div",null,this.props.user&&this.props.myaccountrecipedetail||!this.props.user?null:c.a.createElement("button",{onClick:function(){return e.props.addRecipeActionCallback(e.props.detailRecipe)}},"Add Recipe"))))}return c.a.createElement("div",null)}}]),t}(n.Component),R=(a(197),a(256)),S=a(254),w=a(259),D=a(257),N=a(255),A=a(258),q=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).onFormSubmit=function(t){t.preventDefault(),e.setState({query:"",result:[],searchrecipe:!0,myaccountrecipedetail:!1}),e.searchRecipes()},e.handleChange=function(t){e.setState({query:t.target.value})},e.searchRecipes=function(){var t=e.state.query,a="http://localhost:8080/search?ingredients=".concat(e.state.query);e.setState({result:[],showhome:!1,query:"",detailRecipe:"",seedetail:!1,myrecipe:!1}),y.a.get(a).then(function(a){e.setState({result:a.data.hits,message:"Loading search for ".concat(t),searchrecipe:!0})}).catch(function(t){e.setState({error:t})})},e.addRecipe=function(t){var a=t.uri;a=encodeURIComponent(a);var n="http://localhost:8080/addrecipe?id=".concat(a,"&useruid=").concat(e.state.user.uid);y.a.post(n).then(function(a){e.setState({message:"Successfully added ".concat(t.label),showhome:!1,indatabase:!0})}).catch(function(t){e.setState({error:t})})},e.deleteRecipe=function(t){var a="http://localhost:8080/recipe?documentid=".concat(t.documentid);y.a.delete(a).then(function(a){e.setState({message:"Successfully delted ".concat(t.label),result:[]})}).catch(function(t){e.setState({error:t})})},e.myrecipes=function(){var t="http://localhost:8080/myrecipes?useruid=".concat(e.state.user.uid);y.a.get(t).then(function(t){e.setState({result:t.data,myrecipe:!0,seedetail:!1,searchrecipe:!1,showhome:!1,myaccountrecipedetail:!0})}).catch(function(t){e.setState({error:t})})},e.recipeDetail=function(t){e.setState({detailRecipe:t,seedetail:!0,result:[],showhome:!1,myrecipe:!1})},e.showhome=function(){e.setState({showhome:!0,message:"",result:[],query:"",detailRecipe:"",seedetail:!1,searchrecipe:!1,myrecipe:!1})},e.login=e.login.bind(Object(m.a)(Object(m.a)(e))),e.logout=e.logout.bind(Object(m.a)(Object(m.a)(e))),e.state={message:"",result:[],query:"",user:null,detailRecipe:"",seedetail:!1,searchrecipe:!1,myrecipe:!1,showhome:!1,indatabase:!1,myaccountrecipedetail:!1},e}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.onAuthStateChanged(function(t){t&&(e.setState({user:t}),e.setState({message:"Welcome Back ".concat(e.state.user.displayName)}))})}},{key:"login",value:function(){var e=this;f.signInWithPopup(b).then(function(t){var a=t.user;e.setState({user:a,result:[],query:"",detailRecipe:"",seedetail:!1,searchrecipe:!1,myrecipe:!1,showhome:!1,indatabase:!1,myaccountrecipedetail:!1})})}},{key:"logout",value:function(){var e=this;f.signOut().then(function(){e.setState({user:null,myaccountrecipedetail:!1,message:"",result:[],query:"",detailRecipe:"",seedetail:!1,searchrecipe:!1,myrecipe:!1,showhome:!1,indatabase:!1}),console.log(e.state.message)})}},{key:"render",value:function(){var e=this;return c.a.createElement(D.a,null,c.a.createElement("div",null,c.a.createElement("div",{className:"div-outer-nav"},c.a.createElement(R.a,{className:"navbar-navbar"},c.a.createElement(S.a,{className:"navbar-buttons"},c.a.createElement("div",null,c.a.createElement("form",{onSubmit:this.onFormSubmit},c.a.createElement("label",null,"Search Recipes:",c.a.createElement("input",{type:"text",value:this.state.query,onChange:this.handleChange})),c.a.createElement("input",{type:"submit",value:"Submit"}))),c.a.createElement("div",null,this.state.user?c.a.createElement(w.a,{onClick:this.logout},"Log Out"):c.a.createElement(w.a,{onClick:this.login},"Log In")),c.a.createElement("div",null,this.state.user?c.a.createElement(w.a,{onClick:this.myrecipes},c.a.createElement(N.a,{to:"/myaccount/",className:"dashboard-link"},"My Account")):c.a.createElement("p",null)),c.a.createElement("div",null,c.a.createElement(w.a,{onClick:this.showhome},c.a.createElement(N.a,{to:"/"},"Home"))))),c.a.createElement("div",null,c.a.createElement("p",{className:"status-bar__text"},this.state.message)),this.state.showhome?c.a.createElement(A.a,{path:"/",exact:!0,component:v}):null,this.state.searchrecipe?c.a.createElement(k,{recipeList:this.state.result,useruid:this.state.user?this.state.user.uid:null,recipeDetailCallback:function(t){return e.recipeDetail(t)},user:this.state.user,addRecipeActionCallback:function(t){return e.addRecipe(t)}}):null,this.state.myrecipe?c.a.createElement(A.a,{path:"/myaccount/",render:function(){return c.a.createElement(j,{myrecipes:e.state.result,deleteRecipeCallback:function(t){return e.deleteRecipe(t)},recipeDetailCallback:function(t){return e.recipeDetail(t)}})}}):null,this.state.seedetail?c.a.createElement(C,{detailRecipe:this.state.detailRecipe,user:this.state.user,myrecipe:this.state.myrecipe,indatabase:this.state.indatabase,myaccountrecipedetail:this.state.myaccountrecipedetail,addRecipeActionCallback:function(t){return e.addRecipe(t)}}):null)))}}]),t}(n.Component),I=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"App"},c.a.createElement("header",{className:"App-header"},c.a.createElement("h1",{className:"App-title"},"MealTracker")),c.a.createElement("main",null,c.a.createElement(q,{className:"Dashboard"})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[113,2,1]]]);
//# sourceMappingURL=main.ecd74991.chunk.js.map